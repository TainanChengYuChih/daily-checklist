
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>每日任務卡</title>
  <style>
    body { background: #ffeef5; font-family: sans-serif; padding: 20px; }
    .box { border: 2px dashed pink; background: #fff0f5; padding: 20px; margin-bottom: 20px; border-radius: 10px; }
    h2 { color: #ff69b4; }
  </style>
</head>
<body>
  <h2>🎀 每日任務卡</h2>
  <div class="box">
    <div><strong>📅 距離學測倒數：</strong>還有 <span id="countdown">？</span> 天</div>
  </div>

  <div class="box">
    <h3>🎯 今日任務</h3>
    <div id="task-list">（任務載入中...）</div>
  </div>

  <div class="box">
    <h3>🌞 理想人格卡</h3>
    成熟穩重、不受慾望支配、自我覺察力強。每日修行持咒，堅持到底的學測勇士。
  </div>

  <div class="box">
    <h3>🔒 我正在戒色中</h3>
    「我的慾望是修行的火種，我正在將它轉化為光明與清明。」
  </div>

  <div class="box">
    <h3>🧡 每日一句鼓勵話</h3>
    「別害怕慢，只要你不停止。」
  </div>

  <script>
    // 倒數計算
    const targetDate = new Date("2026-01-23");  // 學測日期
    const todayDate = new Date();
    const diffTime = targetDate - todayDate;
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    document.getElementById("countdown").innerText = diffDays;

    // 載入任務
    const today = new Date().toISOString().split('T')[0];
    const jsonURL = "https://raw.githubusercontent.com/TainanChengYuChih/daily-checklist/main/task.json";

    fetch(jsonURL)
      .then(res => res.json())
      .then(data => {
        const taskList = data[today];
        const container = document.getElementById("task-list");
        if (taskList && taskList.tasks.length > 0) {
          let html = "<ul>";
          taskList.tasks.forEach(task => {
            html += `<li><input type="checkbox"> ${task}</li>`;
          });
          html += "</ul>";
          container.innerHTML = html;
        } else {
          container.innerHTML = "今天尚未設定任務，請加油！";
        }
      })
      .catch(err => {
        document.getElementById("task-list").innerHTML = "載入任務失敗 😢";
        console.error(err);
      });
  </script>
</body>
</html>
